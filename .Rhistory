abandoned_match[abandoned_match$Contact_Phone=="(207)-726-7898",]
abandoned_match[duplicated(abandoned_match$Contact_Phone, incomparables = ""),]
sum(duplicated(reservation_match$Incoming_Phone, incomparables = ""))
duplicated(reservation_match$Email,incomparables = "")
sum(duplicated(reservation_match$Email, incomparables = ""))
duplicated(reservation_match_oneres$Email,incomparables = "")
sum(duplicated(reservation_match_oneres$Email, incomparables = ""))
reservation_match_oneres = reservation_match[!duplicated(reservation_match$Email, incomparables = ""),]
nrow(reservation_match_oneres)
reservation_match_oneres = reservation_match[!duplicated(reservation_match$Incoming_Phone, incomparables = ""),]
nrow(reservation_match_oneres) #same as abandoned_match
reservation_match_oneres = reservation_match_oneres[!duplicated(reservation_match$Email, incomparables = ""),]
nrow(reservation_match_oneres)
reservation_match_oneres = reservation_match[!duplicated(reservation_match$Incoming_Phone, incomparables = ""),]
nrow(reservation_match_oneres) #same as abandoned_match
duplicated(reservation_match_oneres$Email,incomparables = "")
sum(duplicated(reservation_match_oneres$Email, incomparables = ""))
reservation_match_oneres <- reservation_match_oneres[!duplicated(reservation_match_oneres$Email, incomparables = ""),]
nrow(reservation_match_oneres)
write.csv(x = reservation_match, file = "reservation_match_oneres.csv")
abandoned_match[duplicated(abandoned_match$Contact_Phone, incomparables = ""),]
abandoned_match[abandoned_match$Contact_Phone=="(207)-726-7898",]
abandoned_match_nodup <- abandoned_match[!duplicated(abandoned_match$Contact_Phone, incomparables = ""),]
nrow(abandoned_match_nodup)
write.csv(x = reservation_match, file = "abandoned_match_nodup.csv")
View(abandoned_match_nodup)
matching_incoming = match(abandoned$Incoming_Phone,reservation$Incoming_Phone,nomatch = 0)
duplicated(matching_incoming)
matching_incoming[!duplicated(matching_incoming)] # 313 obs
matching_eic
abandoned_match_nodup <- abandoned_match_nodup[,13]
abandoned_match_nodup[,13] <- 1
View(abandoned_match_nodup)
abandoned_match_nodup_all <- read.csv("~/Studies/Courses/USF/Statistical Data Mining/MightyHive Project/MightyHive-Project/abandoned_match_nodup_all.csv")
View(abandoned_match_nodup_all)
sum(duplicated(abandoned_match_nodup_all$Incoming_Phone, incomparables = ""))
sum(duplicated(abandoned_match_nodup_all$Contact_Phone, incomparables = ""))
sum(duplicated(abandoned_match_nodup_all$Email, incomparables = ""))
sum(duplicated(abandoned_match_nodup_all$Email, incomparables = " "))
sum(duplicated(abandoned_match_nodup_all$Incoming_Phone, incomparables = ""))
abandoned_match_nodup_all_c <- abandoned_match_nodup_all[!duplicated(abandoned_match_nodup_all$Contact_Phone, incomparables = ""),]
abandoned_match_nodup_all_c <- abandoned_match_nodup_all[!duplicated(abandoned_match_nodup_all$Incoming_Phone, incomparables = ""),]
sum(duplicated(abandoned_match_nodup_all$Email, incomparables = ""))
abandoned_match_nodup_all_c <- abandoned_match_nodup_all[!duplicated(abandoned_match_nodup_all$Contact_Phone, incomparables = ""),]
abandoned_match_nodup_all_c <- abandoned_match_nodup_all_c[!duplicated(abandoned_match_nodup_all_c$Incoming_Phone, incomparables = ""),]
sum(duplicated(abandoned_match_nodup_all_c$Email, incomparables = ""))
View(abandoned_match_nodup_all_c)
nrow(abandoned_match_nodup_all_c[,Email=''])
abandoned_match_nodup_all_c[,Email='']
abandoned_match_nodup_all_c$Email[Email='']
abandoned_match_nodup_all <- read.csv("~/Studies/Courses/USF/Statistical Data Mining/MightyHive Project/MightyHive-Project/abandoned_match_nodup_all.csv",stringsAsFactors = F)
sum(duplicated(abandoned_match_nodup_all$Incoming_Phone, incomparables = "")) #1622
sum(duplicated(abandoned_match_nodup_all$Contact_Phone, incomparables = "")) #546
sum(duplicated(abandoned_match_nodup_all_c$Email, incomparables = ""))
abandoned_match_nodup_all <- read.csv("~/Studies/Courses/USF/Statistical Data Mining/MightyHive Project/MightyHive-Project/abandoned_match_nodup_all.csv",stringsAsFactors = FALSE)
sum(duplicated(abandoned_match_nodup_all$Incoming_Phone, incomparables = "")) #418
sum(duplicated(abandoned_match_nodup_all$Contact_Phone, incomparables = "")) #296
sum(duplicated(abandoned_match_nodup_all$Email, incomparables = ""))
abandoned_match_nodup_all_c <- abandoned_match_nodup_all[!duplicated(abandoned_match_nodup_all$Contact_Phone, incomparables = ""),]
abandoned_match_nodup_all_c <- abandoned_match_nodup_all_c[!duplicated(abandoned_match_nodup_all_c$Incoming_Phone, incomparables = ""),]
abandoned_match_nodup_all_c <- abandoned_match_nodup_all_c[!duplicated(abandoned_match_nodup_all_c$Email, incomparables = ""),]
duplicated(abandoned_match_nodup_all_c)
sum(duplicated(abandoned_match_nodup_all_c))
abandoned_match_nodup_all_c$Test_Control[,Test_Control="control"] <- 0
abandoned_match_nodup_all_c$Test_Control[,abandoned_match_nodup_all_c$Test_Control="control"] <- 0
abandoned_match_nodup_all_c$Test_Control[abandoned_match_nodup_all_c$Test_Control="control"] <- 0
abandoned_match_nodup_all_c$Test_Control[Test_Control="control"] <- 0
abandoned_match_nodup_all_c$Test_Control[abandoned_match_nodup_all_c$Test_Control=="control"] <- 0
View(abandoned_match_nodup_all_c)
abandoned_match_nodup_all_c$Test_Control[abandoned_match_nodup_all_c$Test_Control=="test"] <- 1
abandoned_match_nodup_all_c$Email[abandoned_match_nodup_all_c$Email==""]
abandoned_match_nodup_all_c$Email[abandoned_match_nodup_all_c$Email==""] <- 0
abandoned_match_nodup_all_c$Email[abandoned_match_nodup_all_c$Email!=""] <- 1
abandoned_match_nodup_all_c$Email
abandoned_match_nodup_all <- read.csv("~/Studies/Courses/USF/Statistical Data Mining/MightyHive Project/MightyHive-Project/abandoned_match_nodup_all.csv",stringsAsFactors = FALSE)
# Removing Duplicates
sum(duplicated(abandoned_match_nodup_all$Incoming_Phone, incomparables = "")) #418
sum(duplicated(abandoned_match_nodup_all$Contact_Phone, incomparables = "")) #296
sum(duplicated(abandoned_match_nodup_all$Email, incomparables = "")) #91
abandoned_match_nodup_all_c <- abandoned_match_nodup_all[!duplicated(abandoned_match_nodup_all$Contact_Phone, incomparables = ""),]
abandoned_match_nodup_all_c <- abandoned_match_nodup_all_c[!duplicated(abandoned_match_nodup_all_c$Incoming_Phone, incomparables = ""),]
abandoned_match_nodup_all_c <- abandoned_match_nodup_all_c[!duplicated(abandoned_match_nodup_all_c$Email, incomparables = ""),]
sum(duplicated(abandoned_match_nodup_all_c)) # duplicates removed
#### Creating Dummy Variables
#Test_Control
abandoned_match_nodup_all_c$Test_Control[abandoned_match_nodup_all_c$Test_Control=="control"] <- 0
abandoned_match_nodup_all_c$Test_Control[abandoned_match_nodup_all_c$Test_Control=="test"] <- 1
#Email
abandoned_match_nodup_all_c$Email[abandoned_match_nodup_all_c$Email==""] <- 0
abandoned_match_nodup_all_c$Email[abandoned_match_nodup_all_c$Email!=""] <- 1
abandoned_match_nodup_all <- read.csv("~/Studies/Courses/USF/Statistical Data Mining/MightyHive Project/MightyHive-Project/abandoned_match_nodup_all.csv",stringsAsFactors = FALSE)
# Removing Duplicates
sum(duplicated(abandoned_match_nodup_all$Incoming_Phone, incomparables = "")) #418
sum(duplicated(abandoned_match_nodup_all$Contact_Phone, incomparables = "")) #296
sum(duplicated(abandoned_match_nodup_all$Email, incomparables = "")) #91
abandoned_match_nodup_all_c <- abandoned_match_nodup_all[!duplicated(abandoned_match_nodup_all$Contact_Phone, incomparables = ""),]
abandoned_match_nodup_all_c <- abandoned_match_nodup_all_c[!duplicated(abandoned_match_nodup_all_c$Incoming_Phone, incomparables = ""),]
abandoned_match_nodup_all_c <- abandoned_match_nodup_all_c[!duplicated(abandoned_match_nodup_all_c$Email, incomparables = ""),]
sum(duplicated(abandoned_match_nodup_all_c)) # duplicates removed
#### Creating Dummy Variables
#Test_Control
abandoned_match_nodup_all_c$Test_Control[abandoned_match_nodup_all_c$Test_Control=="control"] <- 0
abandoned_match_nodup_all_c$Test_Control[abandoned_match_nodup_all_c$Test_Control=="test"] <- 1
#Email
abandoned_match_nodup_all_c$Email[abandoned_match_nodup_all_c$Email==""] <- 0
abandoned_match_nodup_all_c$Email[abandoned_match_nodup_all_c$Email!="0"] <- 1
abandoned_match_nodup_all_c$Address[abandoned_match_nodup_all_c$Address==""] <- 0
abandoned_match_nodup_all_c$Address[abandoned_match_nodup_all_c$Address!="0"] <- 1
abandoned_match_nodup_all_c$Contact_Phone[abandoned_match_nodup_all_c$Contact_Phone==""] <- 0
abandoned_match_nodup_all_c$Contact_Phone[abandoned_match_nodup_all_c$Contact_Phone="0"] <- 1
abandoned_match_nodup_all_c$Contact_Phone[abandoned_match_nodup_all_c$Contact_Phone!="0"] <- 1
library(posix)
?"POSIXct"
as.POSIXct(abandoned_match_nodup_all_c$Session)
write.csv("abandoned_match_nodup_all_c.csv")
write.csv(abandoned_match_nodup_all_c ,"abandoned_match_nodup_all_c.csv")
write.csv(x = abandoned_match_nodup, file = "abandoned_match_nodup.csv")
write.csv(x = abandoned_match_nodup, file = "abandoned_match_nodup.csv")
abandoned_match[abandoned_match$Contact_Phone=="(207)-726-7898",]
abandoned_match[duplicated(abandoned_match$Contact_Phone, incomparables = ""),] # making sure that 8168 is older observation of the two
abandoned_match_nodup <- abandoned_match[!duplicated(abandoned_match$Contact_Phone, incomparables = ""),]
nrow(abandoned_match_nodup) # Same as reservation_match_oneres
write.csv(x = abandoned_match_nodup, file = "abandoned_match_nodup.csv")
write.csv(x = reservation_match_oneres, file = "reservation_match_oneres.csv")
abandoned_match_nodup[,13] <- 1  #V13 is variable for Bought(1) and NoBought(0)
abandoned_match_nodup_all <- read.csv("~/Studies/Courses/USF/Statistical Data Mining/MightyHive Project/MightyHive-Project/abandoned_match_nodup_all.csv",stringsAsFactors = FALSE)
# Removing Duplicates
sum(duplicated(abandoned_match_nodup_all$Incoming_Phone, incomparables = "")) #418
sum(duplicated(abandoned_match_nodup_all$Contact_Phone, incomparables = "")) #296
sum(duplicated(abandoned_match_nodup_all$Email, incomparables = "")) #91
abandoned_match_nodup_all_c <- abandoned_match_nodup_all[!duplicated(abandoned_match_nodup_all$Contact_Phone, incomparables = ""),]
abandoned_match_nodup_all_c <- abandoned_match_nodup_all_c[!duplicated(abandoned_match_nodup_all_c$Incoming_Phone, incomparables = ""),]
abandoned_match_nodup_all_c <- abandoned_match_nodup_all_c[!duplicated(abandoned_match_nodup_all_c$Email, incomparables = ""),]
sum(duplicated(abandoned_match_nodup_all_c)) # duplicates removed
#### Creating Dummy Variables
as.factor(abandoned_match_nodup_all_c$Test_Control)
is.factor(abandoned_match_nodup_all_c$Test_Control)
abandoned_match_nodup_all_c$Test_Control <- as.factor(abandoned_match_nodup_all_c$Test_Control)
abandoned_match_nodup_all_c$Email <- as.factor(abandoned_match_nodup_all_c$Email)
abandoned_match_nodup_all_c$Test_Control[abandoned_match_nodup_all_c$Test_Control=="control"] <- 0
abandoned_match_nodup_all <- read.csv("~/Studies/Courses/USF/Statistical Data Mining/MightyHive Project/MightyHive-Project/abandoned_match_nodup_all.csv",stringsAsFactors = FALSE)
# Removing Duplicates
sum(duplicated(abandoned_match_nodup_all$Incoming_Phone, incomparables = "")) #447
sum(duplicated(abandoned_match_nodup_all$Contact_Phone, incomparables = "")) #516
sum(duplicated(abandoned_match_nodup_all$Email, incomparables = "")) #97
abandoned_match_nodup_all_c <- abandoned_match_nodup_all[!duplicated(abandoned_match_nodup_all$Contact_Phone, incomparables = ""),]
abandoned_match_nodup_all_c <- abandoned_match_nodup_all_c[!duplicated(abandoned_match_nodup_all_c$Incoming_Phone, incomparables = ""),]
abandoned_match_nodup_all_c <- abandoned_match_nodup_all_c[!duplicated(abandoned_match_nodup_all_c$Email, incomparables = ""),]
sum(duplicated(abandoned_match_nodup_all_c)) # duplicates removed
#### Creating Dummy Variables
#Test_Control
abandoned_match_nodup_all_c$Test_Control[abandoned_match_nodup_all_c$Test_Control=="control"] <- 0
abandoned_match_nodup_all_c$Test_Control[abandoned_match_nodup_all_c$Test_Control=="test"] <- 1
abandoned_match_nodup_all_c$Test_Control <
abandoned_match_nodup_all_c$Test_Control <
abandoned_match_nodup_all_c$Test_Control <- as.factor(abandoned_match_nodup_all_c$Test_Control)
#Email
abandoned_match_nodup_all_c$Email[abandoned_match_nodup_all_c$Email==""] <- 0
abandoned_match_nodup_all_c$Email[abandoned_match_nodup_all_c$Email!="0"] <- 1
abandoned_match_nodup_all_c$Email <- as.factor(abandoned_match_nodup_all_c$Email)
abandoned_match_nodup_all_c$Address[abandoned_match_nodup_all_c$Address==""] <- 0
abandoned_match_nodup_all_c$Address[abandoned_match_nodup_all_c$Address!="0"] <- 1
abandoned_match_nodup_all_c$Test_Control <- as.factor(abandoned_match_nodup_all_c$Test_Control)
abandoned_match_nodup_all_c$Contact_Phone[abandoned_match_nodup_all_c$Contact_Phone==""] <- 0
abandoned_match_nodup_all_c$Contact_Phone[abandoned_match_nodup_all_c$Contact_Phone!="0"] <- 1
matching_email = match(abandoned$Email,reservation$Email,nomatch = 0)
matching_email
duplicated(matching_email)
matching_email[!duplicated(matching_email)] # (76-2) = 74 obs
matching_eic = ((abandoned$Incoming_Phone %in% reservation$Incoming_Phone)
& (abandoned$Contact_Phone %in% reservation$Contact_Phone)
)&
!duplicated(matching_incoming)
| !duplicated(matching_contact)
)                      # To select matching observations in Abandoned DataSet on either email,
matching_eic = ((abandoned$Incoming_Phone %in% reservation$Incoming_Phone)
& (abandoned$Contact_Phone %in% reservation$Contact_Phone)
)&
(!duplicated(matching_incoming)
| !duplicated(matching_contact)
)                      # To select matching observations in Abandoned DataSet on either email,
matching_eic
sum(matching_eic)
matching_eic = (((abandoned$Incoming_Phone %in% reservation$Incoming_Phone)
& (abandoned$Contact_Phone %in% reservation$Contact_Phone)
)&  ((abandoned$Incoming_Phone %in% reservation$Incoming_Phone)
& (abandoned$Email %in% reservation$Email)
) )&
(!duplicated(matching_incoming)
| !duplicated(matching_contact)
!duplicated(matching_email) )
matching_eic = (((abandoned$Incoming_Phone %in% reservation$Incoming_Phone)
& (abandoned$Contact_Phone %in% reservation$Contact_Phone)
)&  ((abandoned$Incoming_Phone %in% reservation$Incoming_Phone)
& (abandoned$Email %in% reservation$Email)
) )&
(!duplicated(matching_incoming)
| !duplicated(matching_contact)
| !duplicated(matching_email) )
sum(matching_eic)
matching_eic = (((abandoned$Incoming_Phone %in% reservation$Incoming_Phone)
& (abandoned$Contact_Phone %in% reservation$Contact_Phone)
) |  ((abandoned$Incoming_Phone %in% reservation$Incoming_Phone)
& (abandoned$Email %in% reservation$Email)
) )&
(!duplicated(matching_incoming)
| !duplicated(matching_contact)
| !duplicated(matching_email) )
sum(matching_eic)
abandoned_match = abandoned[matching_eic,]
nrow(abandoned_match) #388 obs in Abandoned matched with obs in Reservation Dataset
matching_eic
matching_eic = (((reservation$Incoming_Phone %in% abandoned$Incoming_Phone)
& (reservation$Contact_Phone %in% abandoned$Contact_Phone)
) |  ((reservation$Incoming_Phone %in% abandoned$Incoming_Phone)
& (reservation$Email %in% abandoned$Email)
) )&
(!duplicated(matching_incoming)
| !duplicated(matching_contact)
| !duplicated(matching_email) )
matching_eic = (((abandoned$Incoming_Phone %in% reservation$Incoming_Phone)
& (abandoned$Contact_Phone %in% reservation$Contact_Phone)
) |  ((abandoned$Incoming_Phone %in% reservation$Incoming_Phone)
& (abandoned$Email %in% reservation$Email)
) )&
(!duplicated(matching_incoming)
| !duplicated(matching_contact)
| !duplicated(matching_email) )
matching_eic_r = (((reservation$Incoming_Phone %in% abandoned$Incoming_Phone)
& (reservation$Contact_Phone %in% abandoned$Contact_Phone)
) |  ((reservation$Incoming_Phone %in% abandoned$Incoming_Phone)
& (reservation$Email %in% abandoned$Email)
) )&
(!duplicated(matching_incoming)
| !duplicated(matching_contact)
| !duplicated(matching_email) )
sum(matching_eic_r)
matching_eic_r = (((reservation$Incoming_Phone %in% abandoned$Incoming_Phone)
& (reservation$Contact_Phone %in% abandoned$Contact_Phone)
) |  ((reservation$Incoming_Phone %in% abandoned$Incoming_Phone)
& (reservation$Email %in% abandoned$Email)
) )#&
sum(matching_eic_r)
matching_eic_r
matching_eic_r = (((reservation$Incoming_Phone %in% abandoned$Incoming_Phone) &
(reservation$Contact_Phone %in% abandoned$Contact_Phone))|
((reservation$Incoming_Phone %in% abandoned$Incoming_Phone) & (reservation$Email %in% abandoned$Email) ))
sum(matching_eic_r)
matching_eic_r = matching_eic_r[!duplicated(matching_eic_r)]
matching_eic_r
sum(matching_eic_r)
matching_eic_r = (((reservation$Incoming_Phone %in% abandoned$Incoming_Phone) &
(reservation$Contact_Phone %in% abandoned$Contact_Phone))|
((reservation$Incoming_Phone %in% abandoned$Incoming_Phone) & (reservation$Email %in% abandoned$Email) ))#&
sum(matching_eic_r)
matching_eic_r
matching_eic_r_dataset <- reservation[matching_eic_r]
matching_eic_r_dataset <- reservation[matching_eic_r,]
matching_eic_r_dataset
matching_eic
reservation_matching <- reservation[matching_eic_r,]
reservation_match <- reservation[matching_eic_r,]
reservation_match
abandoned_match <- abandoned[matching_eic,]
sum(matching_eic_r)
(abandoned_match$Incoming_Phone & abandoned_match$Contact_Phone),nomatch = 0)
match((reservation_match$Incoming_Phone & reservation_match$Contact_Phone),(abandoned_match$Incoming_Phone & abandoned_match$Contact_Phone),nomatch = 0)
(((reservation$Incoming_Phone %in% abandoned$Incoming_Phone) &
(reservation$Contact_Phone %in% abandoned$Contact_Phone))|
((reservation$Incoming_Phone %in% abandoned$Incoming_Phone) & (reservation$Email %in% abandoned$Email) ))
sum(((reservation$Incoming_Phone %in% abandoned$Incoming_Phone) &
(reservation$Contact_Phone %in% abandoned$Contact_Phone))|
((reservation$Incoming_Phone %in% abandoned$Incoming_Phone) & (reservation$Email %in% abandoned$Email) ))
sum(((reservation$Incoming_Phone %in% abandoned_match$Incoming_Phone) &
(reservation$Contact_Phone %in% abandoned_match$Contact_Phone))|
((reservation$Incoming_Phone %in% abandoned_match$Incoming_Phone) & (reservation$Email %in% abandoned_match$Email) ))
matching_eic_r = (((reservation$Incoming_Phone %in% abandoned_match$Incoming_Phone) &
(reservation$Contact_Phone %in% abandoned_match$Contact_Phone))|
((reservation$Incoming_Phone %in% abandoned_match$Incoming_Phone) & (reservation$Email %in% abandoned_match$Email) ))
sum(matching_eic_r) #654
reservation_match <- reservation[matching_eic_r,]
reservation_match
sum(((reservation_match$Incoming_Phone %in% abandoned_match$Incoming_Phone) &
(reservation_match$Contact_Phone %in% abandoned_match$Contact_Phone))|
((reservation_match$Incoming_Phone %in% abandoned_match$Incoming_Phone) & (reservation_match$Email %in% abandoned_match$Email) ))
matching_eic_r = (((reservation$Incoming_Phone %in% abandoned_match$Incoming_Phone) &
(reservation$Contact_Phone %in% abandoned_match$Contact_Phone))|
((reservation$Incoming_Phone %in% abandoned_match$Incoming_Phone) & (reservation$Email %in% abandoned_match$Email) ))
sum(matching_eic_r) #637
matching_eic_r
reservation_match <- reservation[matching_eic_r,]
reservation_match
match(reservation_match$Incoming_Phone,abandoned_match$Incoming_Phone)
match(reservation_match$Incoming_Phone,abandoned_match$Incoming_Phone) &
match(reservation_match$Contact_Phone,abandoned_match$Contact_Phone)
match(reservation_match$Contact_Phone,abandoned_match$Contact_Phone),na.rm=TRUE)
sum(match(reservation_match$Incoming_Phone,abandoned_match$Incoming_Phone)&match(reservation_match$Contact_Phone,abandoned_match$Contact_Phone))
match(reservation_match$Incoming_Phone,abandoned_match$Incoming_Phone)&
match(reservation_match$Contact_Phone,abandoned_match$Contact_Phone)
(match(reservation_match$Incoming_Phone,abandoned_match$Incoming_Phone)&
match(reservation_match$Contact_Phone,abandoned_match$Contact_Phone)) |
(match(reservation_match$Incoming_Phone,abandoned_match$Incoming_Phone)&
match(reservation_match$Email,abandoned_match$Email))
sum((reservation$Incoming_Phone %in% abandoned_match$Incoming_Phone) &
(reservation$Contact_Phone %in% abandoned_match$Contact_Phone))
(match(reservation_match$Incoming_Phone,abandoned_match$Incoming_Phone)&
match(reservation_match$Email,abandoned_match$Email))
(match(reservation_match$Incoming_Phone,abandoned_match$Incoming_Phone)&
match(reservation_match$Contact_Phone,abandoned_match$Contact_Phone))
match(reservation_match$Email,abandoned_match$Email)
((reservation$Incoming_Phone %in% abandoned_match$Incoming_Phone) &
(reservation$Contact_Phone %in% abandoned_match$Contact_Phone))
sum((reservation$Incoming_Phone %in% abandoned_match$Incoming_Phone) &
(reservation$Contact_Phone %in% abandoned_match$Contact_Phone))
matching_eic_r = sum((reservation$Incoming_Phone %in% abandoned_match$Incoming_Phone) &
(reservation$Contact_Phone %in% abandoned_match$Contact_Phone))
sum(matching_eic_r) #330
matching_eic_r
reservation_match <- reservation[matching_eic_r,]
reservation_match
matching_eic_r = sum((reservation$Incoming_Phone %in% abandoned_match$Incoming_Phone) &
(reservation$Contact_Phone %in% abandoned_match$Contact_Phone))
#Only matching on incoming and contact because email is giving wrong values(matching blanks with blanks)
sum(matching_eic_r) #330
matching_eic_r
matching_eic_r = ((reservation$Incoming_Phone %in% abandoned_match$Incoming_Phone) &
(reservation$Contact_Phone %in% abandoned_match$Contact_Phone))
#Only matching on incoming and contact because email is giving wrong values(matching blanks with blanks)
sum(matching_eic_r) #330
matching_eic_r
reservation_match <- reservation[matching_eic_r,]
reservation_match
(match(reservation_match$Incoming_Phone,abandoned_match$Incoming_Phone)&
match(reservation_match$Contact_Phone,abandoned_match$Contact_Phone)) |
(match(reservation_match$Incoming_Phone,abandoned_match$Incoming_Phone)&
match(reservation_match$Email,abandoned_match$Email))
(match(reservation_match$Incoming_Phone,abandoned_match$Incoming_Phone)&
match(reservation_match$Contact_Phone,abandoned_match$Contact_Phone))
(((abandoned$Incoming_Phone %in% reservation$Incoming_Phone)
& (abandoned$Contact_Phone %in% reservation$Contact_Phone)
#) |  ((abandoned$Incoming_Phone %in% reservation$Incoming_Phone)
#    & (abandoned$Email %in% reservation$Email)
) )&
(!duplicated(matching_incoming)
| !duplicated(matching_contact)
| !duplicated(matching_email) )
sum(((abandoned$Incoming_Phone %in% reservation$Incoming_Phone)
& (abandoned$Contact_Phone %in% reservation$Contact_Phone)
#) |  ((abandoned$Incoming_Phone %in% reservation$Incoming_Phone)
#    & (abandoned$Email %in% reservation$Email)
) )&
(!duplicated(matching_incoming)
| !duplicated(matching_contact)
| !duplicated(matching_email) )     # To select matching observations in Abandoned DataSet on either email,
# incoming or Cont
sum((((abandoned$Incoming_Phone %in% reservation$Incoming_Phone)
& (abandoned$Contact_Phone %in% reservation$Contact_Phone)
#) |  ((abandoned$Incoming_Phone %in% reservation$Incoming_Phone)
#    & (abandoned$Email %in% reservation$Email)
) )&
(!duplicated(matching_incoming)
| !duplicated(matching_contact)
| !duplicated(matching_email) ) )
sum(match(reservation_match$Email, abandoned_match$Email, nomatch = 0) |
match(reservation_match$Incoming_Phone, abandoned_match$Incoming_Phone, nomatch = 0) |
match(reservation_match$Contact_Phone, abandoned_match$Contact_Phone, nomatch = 0))
sum(match(abandoned_match$Email,reservation_match$Email, nomatch = 0) |
match( abandoned_match$Incoming_Phone,reservation_match$Incoming_Phone, nomatch = 0) |
match( abandoned_match$Contact_Phone, reservation_match$Contact_Phone,nomatch = 0))
duplicated(reservation_match$Incoming_Phone, incomparables = "")
sum(duplicated(reservation_match$Incoming_Phone,incomparables = "")) # 10 obs with >1 reservation from same Incoming Phone
duplicated(reservation_match$Contact_Phone,incomparables = "")
sum(duplicated(reservation_match$Contact_Phone, incomparables = "")) # 0 obs with >1 reservation from same Contact Phone
duplicated(reservation_match$Email,incomparables = "")
sum(duplicated(reservation_match$Email, incomparables = "")) # 5 obs
abandoned = read.csv("Data/Abandoned_with_keys.csv",header = T,stringsAsFactors = F)
abandoned = read.csv("Abandoned_with_keys.csv",header = T,stringsAsFactors = F)
reservation = read.csv("Reservation_with_keys.csv",header = T,stringsAsFactors = F)
matching_email = match(abandoned$Email,reservation$Email,nomatch = 0)
matching_email
duplicated(matching_email)
matching_email[!duplicated(matching_email)] # (76-2) = 74 obs
sum((abandoned$In_Co %in% reservation$In_Co)
| abandoned$In_Em %in% reservation$In_Em))
sum((abandoned$In_Co %in% reservation$In_Co) | abandoned$In_Em %in% reservation$In_Em))
sum((abandoned$In_Co %in% reservation$In_Co) | (abandoned$In_Em %in% reservation$In_Em))
match(abandoned$In_Co,reservation$In_Co)
match(abandoned$In_Em,reservation$In_Em)
abandoned = read.csv("Abandoned_with_keys.csv",header = T,stringsAsFactors = F)
reservation = read.csv("Reservation_with_keys.csv",header = T,stringsAsFactors = F)
match(abandoned$In_Co,reservation$In_Co)
match(abandoned$In_Em,reservation$In_Em)
matching_eic = ((abandoned$In_Co %in% reservation$In_Co) | (abandoned$In_Em %in% reservation$In_Em))
sum(matching_eic)
match(abandoned$In_Co,reservation$In_Co) & match(abandoned$In_Em,reservation$In_Em)
sum(match(abandoned$In_Co,reservation$In_Co) & match(abandoned$In_Em,reservation$In_Em))
sum(match(abandoned$In_Co,reservation$In_Co,nomatch = 0) & match(abandoned$In_Em,reservation$In_Em,nomatch = 0))
sum(match(abandoned$In_Co,reservation$In_Co,nomatch = 0) | match(abandoned$In_Em,reservation$In_Em,nomatch = 0))
sum(match(reservation$In_Co,abandoned$In_Co,nomatch = 0) | match(reservation$In_Em,abandoned$In_Em,nomatch = 0))
sum(match(abandoned$In_Co,reservation$In_Co,nomatch = 0) | match(abandoned$In_Em,reservation$In_Em,nomatch = 0))
sum(match(reservation$In_Co,abandoned$In_Co,nomatch = 0) | match(reservation$In_Em,abandoned$In_Em,nomatch = 0))
match(abandoned$In_Co,reservation$In_Co,nomatch = 0) | match(abandoned$In_Em,reservation$In_Em,nomatch = 0) #175
match(abandoned$In_Co,reservation$In_Co,nomatch = 0) #| match(abandoned$In_Em,reservation$In_Em,nomatch = 0) #175
matching_eic = ((abandoned$In_Co %in% reservation$In_Co) | (abandoned$In_Em %in% reservation$In_Em))
sum(matching_eic)
matching_eic
abandoned_match = abandoned[matching_eic,]
nrow(abandoned_match) #388 obs in Abandoned matched with obs in Reservation Dataset
match(abandoned$In_Co,reservation$In_Co,nomatch = 0) | match(abandoned$In_Em,reservation$In_Em,nomatch = 0)
match(reservation$In_Co,abandoned$In_Co,nomatch = 0)
inco <- match(reservation$In_Co,abandoned$In_Co,nomatch = 0)
inem <- match(reservation$In_Em,abandoned$In_Em,nomatch = 0)
match(reservation$In_Em,abandoned$In_Em,nomatch = 0)
reservation_match <- reservation[c(inco,inem),]
nrow(reservation_match)
reservation_match_nodup <- sum(!duplicated(reservation_match))
reservation_match_nodup <- !duplicated(reservation_match)
sum(reservation_match_nodup)
reservation_match_nodup <- !duplicated(reservation_match)
sum(reservation_match_nodup)
abandoned_match_nodup <- !duplicated(abandoned_match)
sum(abandoned_match_nodup)
inco <- match(reservation$In_Co,abandoned_match_nodup$In_Co,nomatch = 0)
abandoned_match_nodup
!duplicated(abandoned_match)
abandoned_match = abandoned[matching_eic,]
!duplicated(abandoned_match)
sum(!duplicated(abandoned_match))
abandoned_match_nodup <- abandoned_match
inco <- match(reservation$In_Co,abandoned_match_nodup$In_Co,nomatch = 0)
inem <- match(reservation$In_Em,abandoned_match_nodup$In_Em,nomatch = 0)
reservation_match <- reservation[c(inco,inem),]
nrow(reservation_match) #240
!duplicated(reservation_match)
reservation_match_nodup <- reservation_match[!duplicated(reservation_match),]
reservation_match_nodup
nrow(reservation_match_nodup)
match(reservation$In_Co,abandoned_match_nodup$In_Co,nomatch = 0)
match(reservation_match_nodup$In_Co,abandoned_match_nodup$In_Co,nomatch = 0)
match(reservation_match_nodup$In_Em,abandoned_match_nodup$In_Em,nomatch = 0)
inco <- match(abandoned_match_nodup$In_Co, reservation$In_Co,nomatch = 0)
inem <- match(abandoned_match_nodup$In_Em, reservation$In_Em,nomatch = 0)
reservation[c(inco,inem),]
inco
inem
inco <- inco[inco != 0]
inco
inem <- inem[inem != 0]
inem
reservation_match <- reservation[c(inco,inem),]
nrow(reservation_match) #240
reservation_match_nodup <- reservation_match[!duplicated(reservation_match),]
nrow(reservation_match_nodup) #169
match(reservation_match_nodup$In_Co, abandoned_match_nodup$In_Co, nomatch = 0)
match(reservation_match_nodup$In_Em,abandoned_match_nodup$In_Em,nomatch = 0)
match(reservation_match_nodup$In_Em,abandoned_match_nodup$In_Em,nomatch = 0)|match(reservation_match_nodup$In_Co, abandoned_match_nodup$In_Co, nomatch = 0)
match(abandoned_match_nodup$In_Co, reservation_match_nodup$In_Co, nomatch = 0)
match(abandoned_match_nodup$In_Em, reservation_match_nodup$In_Em, nomatch = 0)
?match()
indexinco <- match(abandoned_match_nodup$In_Co, reservation_match_nodup$In_Co, nomatch = 0)
indexinem <- match(abandoned_match_nodup$In_Em, reservation_match_nodup$In_Em, nomatch = 0)
abandoned_match_nodup[,15] <- indexinco
View(abandoned_match_nodup)
abandoned_match_nodup[,16] <- indexinem
write.csv(x = reservation_match_nodup, file = "reservation_match_nodup.csv")
write.csv(x = abandoned_match_nodup, file = "abandoned_match_nodup.csv")
#Deleting Address, email variables and saving as both_match_aban_v6
Non_int_data <- read.csv("both_match_aban_v5.csv",header = T,stringsAsFactors = F)
Non_int_data <- read.csv("both_matched_aban_v5.csv",header = T,stringsAsFactors = F)
View(Non_int_data)
Int_data <- read.csv("Datasets for Interactions\both_matched_aban_v7.csv",header = T,stringsAsFactors = F)
Int_data <- read.csv("Datasets for Interactions/both_matched_aban_v7.csv",header = T,stringsAsFactors = F)
View(Int_data)
lm <- lm(Outcome~.,data = Non_int_data)
summary(lm)
lm <- lm(Outcome~Days_in_Between+D_State+D_Email+Test_Variable,data = Non_int_data)
summary(lm)
lm_int <- lm(Outcome~Days_in_Between+D_State+D_Email+Test_Variable+Int_T_Email,Int_T_State,data = Non_int_data)
lm_int <- lm(Outcome~Days_in_Between+D_State+D_Email+Test_Variable+Int_T_Email,Int_T_State,data = Int_data)
summary(lm_int)
View(Int_data)
lm_int <- lm(Outcome~Days_in_Between+ D_State+ D_Email+ Test_Variable+ Int_T_Email+ Int_T_State,data = Int_data)
summary(lm_int)
plot(Int_data)
with(Int_data,plot(Outcome~Days_in_Between+ D_State+ D_Email+ Test_Variable+ Int_T_Email+ Int_T_State))
hist(Int_data$Outcome)
hist(Int_data$Test_Variable)
hist(Int_data$Test_Variable)
Int_data$Test_Variable
summary(Int_data$Test_Variable)
summary(Int_data)
summary(as.factor(Int_data$Test_Variable)
)
175/7325
summary(lm_int)
plot(lm_int)
plot(lm)
View(Non_int_data)
View(Int_data)
View(Int_data)
summary(lm_int)
lm_int <- lm(Outcome~Days_in_Between+ Test_Variable ,data = Int_data)
summary(lm_int)
plot(lm_int)
lm_int <- lm(Outcome~Days_in_Between ,data = Int_data)
summary(lm_int)
plot(lm_int)
plot(Int_data$Outcome~Int_data$Days_in_Between)
plot(Int_data$Outcome~Int_data$Test_Variable)
plot(Int_data$Outcome~as.factor(Int_data$Test_Variable))
lm <- lm(as.factor(Outcome)~Days_in_Between+D_State+D_Email+Test_Variable,data = Non_int_data)
lm <- glm(as.factor(Outcome)~Days_in_Between+D_State+D_Email+Test_Variable,data = Non_int_data)
